<div class="row">
  <div class="col s12">
  </div>
</div>

<div class="row">
  <div class="col s2">
  </div>
  <div class="col s8">
    <form id="login-form">
      <div class="input-field">
        <label for="username"><b>Username</b></label>
        <input type="text" placeholder="Enter Username" name="username" required>
      </div>
      <div class="input-field">
        <label for="password"><b>Password</b></label>
        <input type="password" placeholder="Enter Password" name="password" required>
      </div>
      <button id="login-submit" type="submit" class="btn waves-effect waves-light light-blue">Log in</button>
    </form>
  </div>
  <div class="col s2">
  </div>
</div>
<div class="row">
  <div class="col s2"></div>
  <div class="col s8">
    <a href="/register">Create an account</a>
  </div>
  <div class="col s2"></div>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    $("#login-form").on('submit', function(event) {
      event.preventDefault();
      const username = $("input[name='username']").val();
      const password = $("input[name='password']").val();
      $.ajax("/login", {
        type: "POST",
        data: { username: username, password: password },
        success: (response) => {
          window.location.href = '/';
        },
        error: (response) => {
          $("input[name='username']").val('');
          $("input[name='password']").val('');
        }
      });
    });
  });
</script>
